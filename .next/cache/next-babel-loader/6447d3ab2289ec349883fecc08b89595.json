{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport StyleBase from '../components/StyleBase';\nimport React from 'react';\nimport axios from 'axios';\nimport NumberOfEvents from '../components/NumberOfEvents';\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Calendar, _React$Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      calendarEvents: [],\n      fetchError: false\n    });\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var now = new Date();\n      var startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);\n      var endOfDayOneMonthOut = new Date(now.getFullYear(), now.getMonth() + 1, now.getDate(), 23, 59, 59);\n      axios.get('https://www.googleapis.com/calendar/v3/calendars/thebellflowerband%40gmail.com/events?key=AIzaSyA73ezNBuEPQSSjMgoMjfiFa5wwT1TJht8').then(function (res) {\n        var allEvents = res.data.items;\n        allEvents = allEvents.sort(function (a, b) {\n          return Date.parse(a.start.dateTime.toString()) > Date.parse(b.start.dateTime.toString()) ? 1 : -1;\n        });\n        var futureEvents = [];\n        allEvents.map(function (calEvent, i) {\n          var eventTime = new Date(calEvent.start.dateTime);\n\n          if (eventTime > startOfToday && eventTime < endOfDayOneMonthOut) {\n            futureEvents.push(calEvent);\n          }\n\n          return true;\n        });\n\n        _this2.setState({\n          calendarEvents: futureEvents\n        });\n      })[\"catch\"](function (err) {\n        _this2.setState({\n          fetchError: true\n        });\n      });\n    }\n  }, {\n    key: \"date\",\n    value: function date(utcDate, type) {\n      var date = new Date(utcDate);\n      var days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n      var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'Novermber', 'December'];\n      var dateMaker = {\n        get day() {\n          return days[date.getDay()];\n        },\n\n        get dayNum() {\n          return date.getDate();\n        },\n\n        get month() {\n          return months[date.getMonth()];\n        },\n\n        get year() {\n          return date.getFullYear();\n        },\n\n        get hour() {\n          return date.getHours();\n        },\n\n        get minute() {\n          return date.getMinutes();\n        },\n\n        get localTime() {\n          return date.toLocaleTimeString().slice(0, -6).concat(date.toLocaleTimeString().slice(-3));\n        }\n\n      };\n      var formattedDate;\n\n      switch (type) {\n        case 'day':\n          formattedDate = dateMaker.day;\n          break;\n\n        case 'dayNum':\n          formattedDate = dateMaker.dayNum;\n          break;\n\n        case 'month':\n          formattedDate = dateMaker.month;\n          break;\n\n        case 'year':\n          formattedDate = dateMaker.year;\n          break;\n\n        case 'hour':\n          formattedDate = dateMaker.hour;\n          break;\n\n        case 'minute':\n          formattedDate = dateMaker.minute;\n          break;\n\n        case 'localTime':\n          formattedDate = dateMaker.localTime;\n          break;\n\n        default:\n          break;\n      }\n\n      return formattedDate;\n    }\n  }, {\n    key: \"formatMapsUrl\",\n    value: function formatMapsUrl(address) {\n      var firstPart = 'https://www.google.com/maps/search/?api=1&query=';\n      var secondPart = encodeURIComponent(address);\n      return firstPart + secondPart;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var eventsList = this.state.calendarEvents.map(function (calEvent, i) {\n        return __jsx(\"div\", {\n          key: i,\n          className: \"jsx-4292878734\" + \" \" + \"eventCard\"\n        }, __jsx(\"h3\", {\n          className: \"jsx-4292878734\"\n        }, calEvent.summary), __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"detailsContainer\"\n        }, __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"details\"\n        }, __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"event\"\n        }, __jsx(\"img\", {\n          src: require('../public/time-icon-01.svg'),\n          className: \"jsx-4292878734\" + \" \" + \"icon\"\n        }), __jsx(\"p\", {\n          className: \"jsx-4292878734\" + \" \" + \"time\"\n        }, _this3.date(calEvent.start.dateTime, 'day'), \", \", _this3.date(calEvent.start.dateTime, 'month'), \" \", _this3.date(calEvent.start.dateTime, 'dayNum'), \"  \", _this3.date(calEvent.start.dateTime, 'localTime'), \" - \", _this3.date(calEvent.end.dateTime, 'localTime'))), __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"event\"\n        }, __jsx(\"img\", {\n          src: require('../public/pin-icon-01.svg'),\n          className: \"jsx-4292878734\" + \" \" + \"icon\"\n        }), __jsx(\"p\", {\n          className: \"jsx-4292878734\" + \" \" + \"pin\"\n        }, calEvent.location)), __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"event\"\n        }, __jsx(\"img\", {\n          src: require('../public/description-icon-01.svg'),\n          className: \"jsx-4292878734\" + \" \" + \"icon\"\n        }), __jsx(\"p\", {\n          className: \"jsx-4292878734\" + \" \" + \"description\"\n        }, calEvent.description)), __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"buttons\"\n        }, __jsx(\"a\", {\n          alt: \"directions link\",\n          href: _this3.formatMapsUrl(calEvent.location),\n          className: \"jsx-4292878734\" + \" \" + \"directions\"\n        }, __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"event\"\n        }, __jsx(\"img\", {\n          src: require('../public/navigate-icon-01.svg'),\n          className: \"jsx-4292878734\" + \" \" + \"icon\"\n        }), __jsx(\"p\", {\n          className: \"jsx-4292878734\" + \" \" + \"navigate\"\n        }, \"Navigate\"))), __jsx(\"a\", {\n          alt: \"view in google calendar\",\n          href: calEvent.htmlLink,\n          className: \"jsx-4292878734\" + \" \" + \"openInCalendar\"\n        }, __jsx(\"div\", {\n          className: \"jsx-4292878734\" + \" \" + \"event\"\n        }, __jsx(\"img\", {\n          src: require('../public/calendar-icon-01.svg'),\n          className: \"jsx-4292878734\" + \" \" + \"icon\"\n        }), __jsx(\"p\", {\n          className: \"jsx-4292878734\" + \" \" + \"calendar\"\n        }, \"Calendar\")))))), __jsx(_JSXStyle, {\n          id: \"4292878734\"\n        }, [\".eventCard.jsx-4292878734{padding:1rem;margin:2rem 0;text-align:left;}\", \".eventCard.jsx-4292878734:last-child{margin-bottom:0;}\", \".icon.jsx-4292878734{height:1.5rem;position:relative;top:5px;}\", \".event.jsx-4292878734{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;width:100%;}\", \".time.jsx-4292878734{margin-left:10px;}\", \".pin.jsx-4292878734{margin-left:6px;}\", \".description.jsx-4292878734{margin-left:9px;}\", \".calendar.jsx-4292878734{margin-left:10px;}\", \".navigate.jsx-4292878734{margin-left:9px;}\", \".buttons.jsx-4292878734{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:1rem 0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\", \".buttons.jsx-4292878734 .event.jsx-4292878734:first-child{margin:0 0 1rem 0;}\", \".buttons.jsx-4292878734 .event.jsx-4292878734:last-child{margin:1rem 0 0 0;}\", \".buttons.jsx-4292878734:hover{cursor:pointer;}\", \".buttons.jsx-4292878734 .event.jsx-4292878734{width:100%;border:2px solid #fff;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#f69d1a;-webkit-transition:background ease .5s;transition:background ease .5s;margin:1rem;}\", \".buttons.jsx-4292878734 .event.jsx-4292878734:hover{background:#fff;}\", \".buttons.jsx-4292878734 .event.jsx-4292878734 p.jsx-4292878734{color:#333;}\", \".buttons.jsx-4292878734 .icon.jsx-4292878734{top:0px;}\", \"@media only screen and (min-width:700px){.buttons.jsx-4292878734{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.buttons.jsx-4292878734 a.jsx-4292878734,.buttons.jsx-4292878734 a.jsx-4292878734{width:95%;}.buttons.jsx-4292878734 .event.jsx-4292878734:first-child,.buttons.jsx-4292878734 .event.jsx-4292878734:last-child{margin:0;padding:0 1rem;}}\"]));\n      });\n      return __jsx(StyleBase, null, __jsx(Head, null, __jsx(\"title\", null, \"Calendar\")), __jsx(\"section\", {\n        className: \"calendarPageContainer\"\n      }, __jsx(\"div\", {\n        className: \"calendarPage\"\n      }, __jsx(\"div\", {\n        className: \"numOfEvents\"\n      }, __jsx(NumberOfEvents, {\n        events: this.state.calendarEvents.length,\n        error: this.state.fetchError\n      })), __jsx(\"div\", {\n        className: \"eventListContainer\"\n      }, eventsList))));\n    }\n  }]);\n\n  return Calendar;\n}(React.Component);\n\nexport default Calendar;","map":null,"metadata":{},"sourceType":"module"}