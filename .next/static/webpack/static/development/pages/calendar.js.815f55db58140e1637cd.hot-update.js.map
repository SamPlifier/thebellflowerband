{"version":3,"file":"static/webpack/static/development/pages/calendar.js.815f55db58140e1637cd.hot-update.js","sources":["webpack:///./pages/calendar.js"],"sourcesContent":["import StyleBase from '../components/StyleBase';\nimport React from 'react';\nimport axios from 'axios';\nimport NumberOfEvents from '../components/NumberOfEvents';\nclass Calendar extends React.Component {\n    state = {\n        calendarEvents: [],\n        fetchError: false\n    }\n\n    componentDidMount() {\n        let now = new Date();\n        let startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);\n        let endOfDayOneMonthOut = new Date(now.getFullYear(), now.getMonth() + 1, now.getDate(), 23, 59, 59);\n        axios.get('https://www.googleapis.com/calendar/v3/calendars/thebellflowerband%40gmail.com/events?key=AIzaSyA73ezNBuEPQSSjMgoMjfiFa5wwT1TJht8')\n            .then(res => {\n                let allEvents = res.data.items;\n                allEvents = allEvents.sort((a, b) => (Date.parse(a.start.dateTime.toString()) > Date.parse(b.start.dateTime.toString()) ? 1: -1));\n                let futureEvents = [];\n                allEvents.map((calEvent, i) => {\n                    let eventTime = new Date(calEvent.start.dateTime);\n                    if (eventTime > startOfToday && eventTime < endOfDayOneMonthOut) {\n                        futureEvents.push(calEvent);\n                    }\n                    return true;\n                })\n                this.setState({ calendarEvents: futureEvents });\n            })\n            .catch(err => {\n                this.setState({fetchError: true});\n            })\n    }\n\n    date(utcDate, type) {\n        let date = new Date(utcDate);\n        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' ];\n        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'Novermber', 'December'];\n        const dateMaker = {\n            get day() {return days[date.getDay()]},\n            get dayNum() {return date.getDate()},\n            get month() {return months[date.getMonth()]},\n            get year() {return date.getFullYear()},\n            get hour() {return date.getHours()},\n            get minute() {return date.getMinutes()},\n            get localTime() {return date.toLocaleTimeString().slice(0, -6).concat(date.toLocaleTimeString().slice(-3));}\n        }\n        let formattedDate;\n        switch (type) {\n            case 'day':\n                formattedDate = dateMaker.day;\n                break;\n            case 'dayNum':\n                formattedDate = dateMaker.dayNum;\n                break;\n            case 'month':\n                formattedDate = dateMaker.month;\n                break;\n            case 'year':\n                formattedDate = dateMaker.year;\n                break;\n            case 'hour':\n                formattedDate = dateMaker.hour;\n                break;\n            case 'minute':\n                formattedDate = dateMaker.minute;\n                break;\n            case 'localTime':\n                formattedDate = dateMaker.localTime;\n                break;\n            default:\n                break;\n\n        }\n        return formattedDate;\n    }\n    formatMapsUrl(address) {\n        let firstPart = 'https://www.google.com/maps/search/?api=1&query=';\n        let secondPart = encodeURIComponent(address);\n        return firstPart+secondPart;\n    }\n\n    render() {\n        const eventsList = (\n            this.state.calendarEvents.map((calEvent, i) => {\n                return  <div className=\"eventCard\" key={i}>\n                            <h3>{calEvent.summary}</h3>\n                            <div className=\"detailsContainer\">\n                                <div className=\"details\">\n                                    <div className=\"event\"><img className=\"icon\" src={require('../public/time-icon-01.svg')} /><p className=\"time\">{this.date(calEvent.start.dateTime, 'day')}, {this.date(calEvent.start.dateTime, 'month')} {this.date(calEvent.start.dateTime, 'dayNum')}  {this.date(calEvent.start.dateTime, 'localTime')} - {this.date(calEvent.end.dateTime, 'localTime')}</p></div>\n                                    <div className=\"event\"><img className=\"icon\" src={require('../public/pin-icon-01.svg')} /><p className=\"pin\">{calEvent.location}</p></div>\n                                    <div className=\"event\"><img className=\"icon\" src={require('../public/description-icon-01.svg')} /><p className=\"description\">{calEvent.description}</p></div>\n                                    <div className=\"buttons\">\n                                        <div className=\"event\"><img className=\"icon\" src={require('../public/navigate-icon-01.svg')} /><p className=\"navigate\"><a className=\"directions\" alt=\"directions link\" href={this.formatMapsUrl(calEvent.location)}>Navigate to event</a></p></div>\n                                        <div className=\"event\"><img className=\"icon\" src={require('../public/calendar-icon-01.svg')} /><p className=\"calendar\"><a className=\"openInCalendar\" href={calEvent.htmlLink}>View in Google Calendar</a></p></div>\n                                    </div>\n                                </div>\n                            </div>\n                        <style jsx>{`\n                        .eventCard {\n                            padding: 1rem;\n                            margin: 2rem 0;\n                            text-align: left;\n                        }\n                        .eventCard:last-child {\n                            margin-bottom: 0;\n                        }\n                        .icon {\n                            height: 1.2rem;\n                            position: relative;\n                            top: 3px;\n                        }\n                        .event {\n                            display: flex;\n                            align-items: baseline;\n                        }\n                        .time {\n                            margin-left: 10px;\n                        }                                \n                        .pin {\n                            margin-left: 6px;\n                        }                            \n                        .description {\n                            margin-left: 9px;\n                        }                            \n                        .calendar {\n                            margin-left: 10px;\n                        }\n                        .navigate {\n                            margin-left: 9px;\n                            border: 2px solid #fff;\n                            padding: 1rem;\n                            text-align: center;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            background: #f69d1a;\n                            color: #222;\n                            transition: background ease .5s;\n                        }  \n                        //.buttons {\n                            border: 2px solid #fff;\n                            padding: 1rem;\n                            text-align: center;\n                            display: flex;\n                            justify-content: center;\n                            align-items: center;\n                            background: #f69d1a;\n                            color: #222;\n                            transition: background ease .5s;\n                        }                            \n                        `}</style>\n                        </div>\n            })\n        )\n        return (\n            <StyleBase>\n            <section className=\"calendarPageContainer\">\n                <div className=\"calendarPage\">\n                    <div className=\"numOfEvents\">\n                        {/* <p className=\"title\">There are {this.state.calendarEvents.length} upcoming events this month.</p> */}\n                        <NumberOfEvents events={this.state.calendarEvents.length} error={this.state.fetchError}/>\n                    </div>\n                <div className=\"eventListContainer\">{eventsList}</div>\n                </div>\n            </section>\n            </StyleBase>\n        )\n    }\n}\n\nexport default Calendar;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;;;;;;AAIA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AARA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAvBA;AACA;AAyBA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAAA;AAAA;AAoEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnKA;AACA;AAqKA;;;;A","sourceRoot":""}